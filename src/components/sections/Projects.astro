---
import Project from "../widgets/Project.astro";
import { projects } from "../../config.ts";
---

<h2 class="text-3xl font-extrabold md:text-4xl">Projects</h2>

<p class="text-xl md:text-2xl">List of projects I've worked on and my work experiences.</p>

<div class="projects flex gap-6">
	{
		projects.map((project) => (
			<Project
				title={project.title}
				description={project.description}
				labels={project.labels}
				image={project.image}
			/>
		))
	}
</div>

<script>
	import { gsap } from "gsap";

	import { ScrollTrigger } from "gsap/ScrollTrigger";

	gsap.registerPlugin(ScrollTrigger);

	const sections = document.querySelector<HTMLElement>(".projects");

	// Horizontal scroll
	gsap.to(".projects", {
		x: () => sections!.scrollWidth * -1,
		xPercent: 100,
		scrollTrigger: {
			trigger: "#projects",
			start: "center center",
			end: "+=2000px",
			pin: "#projects",
			scrub: true,
			invalidateOnRefresh: true,
		},
	});
</script>
